<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Ledger</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/styles.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar / Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <span class="material-icons-round">account_balance_wallet</span>
                <h1>Ledger</h1>
            </div>
            <ul class="nav-links">
                <li class="active"><a href="#"><span class="material-icons-round">dashboard</span> Dashboard</a></li>
                <li><a href="#"><span class="material-icons-round">receipt_long</span> Transactions</a></li>
                <li><a href="#"><span class="material-icons-round">pie_chart</span> Analytics</a></li>
                <li class="spacer"></li>
                <li><a href="#" id="settings-btn"><span class="material-icons-round">settings</span> Settings</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header>
                <h2>Dashboard</h2>
                <div class="user-profile">
                    <button class="btn-primary" id="add-transaction-btn">
                        <span class="material-icons-round">add</span> New Transaction
                    </button>
                    <!-- API Key Config Toggle -->
                    <button class="icon-btn" id="config-btn" title="API Configuration">
                        <span class="material-icons-round">vpn_key</span>
                    </button>
                </div>
            </header>

            <!-- Summary Cards -->
            <section class="summary-cards">
                <div class="card balance-card">
                    <div class="card-icon"><span class="material-icons-round">account_balance</span></div>
                    <div class="card-info">
                        <h3>Total Balance</h3>
                        <p class="amount" id="total-balance">$0.00</p>
                    </div>
                </div>
                <div class="card income-card">
                    <div class="card-icon"><span class="material-icons-round">arrow_upward</span></div>
                    <div class="card-info">
                        <h3>Total Income</h3>
                        <p class="amount" id="total-income">$0.00</p>
                    </div>
                </div>
                <div class="card expense-card">
                    <div class="card-icon"><span class="material-icons-round">arrow_downward</span></div>
                    <div class="card-info">
                        <h3>Total Expenses</h3>
                        <p class="amount" id="total-expense">$0.00</p>
                    </div>
                </div>
            </section>

            <!-- Recent Transactions -->
            <section class="transactions-section">
                <div class="section-header">
                    <h3>Recent Transactions</h3>
                    <button class="btn-text">View All</button>
                </div>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Date</th>
                                <th>Category</th>
                                <th>Amount</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="transactions-list">
                            <!-- Transactions will be injected here -->
                            <!-- Loading State -->
                            <tr class="loading-row">
                                <td colspan="5">Loading transactions...</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Transaction Modal -->
    <div class="modal-overlay" id="transaction-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>Add Transaction</h3>
                <button class="close-btn" id="close-modal"><span class="material-icons-round">close</span></button>
            </div>
            <div class="modal-body">
                <form id="transaction-form">
                    <div class="form-group">
                        <label for="txn-name">Name</label>
                        <input type="text" id="txn-name" required placeholder="e.g. Grocery Shopping">
                    </div>
                    <div class="form-group">
                        <label for="txn-description">Description</label>
                        <input type="text" id="txn-description" required placeholder="Details...">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="txn-amount">Amount</label>
                            <input type="number" id="txn-amount" step="0.01" required placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="txn-type">Type</label>
                            <select id="txn-type">
                                <option value="expense">Expense (-)</option>
                                <option value="income">Income (+)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="txn-date">Date</label>
                            <input type="date" id="txn-date" required>
                        </div>
                        <div class="form-group">
                            <label for="txn-category">Category</label>
                            <input type="text" id="txn-category" required placeholder="e.g. Food">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn-primary">Save Transaction</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Config Modal -->
    <div class="modal-overlay" id="config-modal">
        <div class="modal">
            <div class="modal-header">
                <h3>API Configuration</h3>
                <button class="close-btn" id="close-config"><span class="material-icons-round">close</span></button>
            </div>
            <div class="modal-body">
                <form id="config-form">
                    <p class="width:100%">Update these settings to match your deployment.</p>
                    <div class="form-group">
                        <label for="api-url">API Base URL</label>
                        <input type="text" id="api-url" placeholder="https://your-backend.onrender.com">
                    </div>
                    <div class="form-group">
                        <label for="api-key">API Key</label>
                        <input type="password" id="api-key" placeholder="SECRET_KEY">
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn-primary">Save Configuration</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="/static/config.js"></script>
    <script src="/static/script.js"></script>
</body>

</html>